from models.filter_models import parse_url
from parser import Parser

if __name__ == '__main__':
    # 1 вариант
    # params = FilterParams(
    #     order_by="RequestEndDate",
    #     order_asc=True,
    #     price=Range(
    #         min=2436000,
    #         max=11000000
    #     ),
    #     tender_status="nsi:tender_status_tender_filter:1",
    #     object_types=["nsi:41:30011568"]
    # )

    # 2 вариант
    url = 'https://investmoscow.ru/tenders?pageNumber=1&pageSize=100&orderBy=RequestEndDate&orderAsc=true&objectTypes=nsi:41:30011568&objectTypes=nsi:41:30011578&objectTypes=nsi:41:30011569&objectTypes=nsi:41:818&objectTypes=nsi:41:817&objectTypes=nsi:41:30011570&objectTypes=nsi:41:30011571&objectTypes=nsi:41:30011572&objectTypes=nsi:41:30011573&objectTypes=nsi:41:30011574&objectTypes=nsi:41:30011575&objectTypes=nsi:41:30011576&objectTypes=nsi:41:30011616&objectTypes=nsi:41:30011617&objectTypes=nsi:41:30021081&objectTypes=nsi:41:30021085&objectTypes=nsi:41:105001&objectTypes=nsi:41:30011566&objectTypes=nsi:41:30020001&objectTypes=nsi:41:105002&objectTypes=nsi:41:30016285&objectTypes=nsi:41:30020000&objectTypes=nsi:41:30011567&objectTypes=nsi:41:30011577&objectTypes=nsi:41:30011580&objectTypes=nsi:41:30020049&objectTypes=nsi:41:30011579&objectTypes=nsi:41:30021068&objectTypes=nsi:41:30021069&objectKinds=nsi:tender_type_portal:13&objectKinds=nsi:tender_type_portal:12&objectKinds=nsi:tender_type_portal:14&objectKinds=nsi:tender_type_portal:16&objectKinds=nsi:tender_type_portal:11&objectKinds=nsi:tender_type_portal:9&objectKinds=nsi:tender_type_portal:7&objectKinds=nsi:tender_type_portal:15&price.min=572955317&price.max=5171606552&tenderStatus=nsi:tender_status_tender_filter:2&areaApartment.min=4&areaApartment.max=324&areaCarPlace.min=4&areaCarPlace.max=324&areaNoLiving.min=4&areaNoLiving.max=324&areaGround.min=4&areaGround.max=324&areaNoStationary.min=4&areaNoStationary.max=324&areaBuilding.min=4&areaBuilding.max=324&areaOnLandBuilding.min=4&areaOnLandBuilding.max=324&areaRoom.min=4&areaRoom.max=324&areaConstruction.min=4&areaConstruction.max=324&areaNoCapital.min=4&areaNoCapital.max=324&areaInProgressConstruction.min=4&areaInProgressConstruction.max=324&areaShareInApartment.min=4&areaShareInApartment.max=324&floorApartment.min=3&floorApartment.max=242&floorCarPlaceRoom.min=3&floorCarPlaceRoom.max=242&floorRoom.min=3&floorRoom.max=242&floorShareApartmentRoom.min=3&floorShareApartmentRoom.max=242&numberFloorsApartment.min=43&numberFloorsApartment.max=444&numberFloorsNoLiving.min=43&numberFloorsNoLiving.max=444&numberFloorsBuilding.min=43&numberFloorsBuilding.max=444&numberFloorsRoom.min=43&numberFloorsRoom.max=444&numberFloorsShareInApartment.min=43&numberFloorsShareInApartment.max=444&countRooms=nsi:tender_countRooms_tender_filter:1&countRooms=nsi:tender_countRooms_tender_filter:2&countRooms=nsi:tender_countRooms_tender_filter:3&countRooms=nsi:tender_countRooms_tender_filter:more4&entranceTypes=nsi:1032:1032004&entranceTypes=nsi:1032:1032005&entranceTypes=nsi:1032:9001302&entranceTypes=nsi:1032:103201&entranceTypes=nsi:1032:1032006&functionalityPurposes=nsi:37:37011&functionalityPurposes=nsi:37:30011793&functionalityPurposes=nsi:37:37020&functionalityPurposes=nsi:37:30011821&functionalityPurposes=nsi:37:30011819&functionalityPurposes=nsi:37:30011581&functionalityPurposes=nsi:37:20011019&functionalityPurposes=nsi:37:30011610&functionalityPurposes=nsi:37:30011583&functionalityPurposes=nsi:37:30011582&functionalityPurposes=nsi:37:30011800&functionalityPurposes=nsi:37:30011584&functionalityPurposes=nsi:37:30011629&functionalityPurposes=nsi:37:30011607&functionalityPurposes=nsi:37:30011806&functionalityPurposes=nsi:37:30011818&functionalityPurposes=nsi:37:30011808&functionalityPurposes=nsi:37:37005&functionalityPurposes=nsi:37:37012&functionalityPurposes=nsi:37:30011585&functionalityPurposes=nsi:37:30011820&functionalityPurposes=nsi:37:30011132&objectForms=nsi:45:45001&objectForms=nsi:45:30011343&objectForms=nsi:45:45002&objectForms=nsi:45:30011107&objectForms=nsi:45:30011630&realizationPrograms=nsi:20034:30021060&realizationPrograms=nsi:20034:30016166&noLivingRoomFloors=nsi:1071:30021071&noLivingRoomFloors=nsi:1071:30021072&noLivingRoomFloors=nsi:1071:9000984&noLivingRoomFloors=nsi:1071:9000983&noLivingRoomFloors=nsi:1071:30016156&noLivingRoomFloors=nsi:1071:9000980&noLivingRoomFloors=nsi:1071:9000986&noLivingRoomFloors=nsi:1071:9000982&noLivingRoomFloors=nsi:1071:9000981&noLivingRoomFloors=nsi:1071:9000985&noLivingRoomFloors=nsi:1071:9000993&noLivingRoomFloors=nsi:1071:9000995&noLivingRoomFloors=nsi:1071:9000996&noLivingRoomFloors=nsi:1071:9000997&noLivingRoomFloors=nsi:1071:9000998&noLivingRoomFloors=nsi:1071:9000999&noLivingRoomFloors=nsi:1071:9001000&noLivingRoomFloors=nsi:1071:9001001&noLivingRoomFloors=nsi:1071:9001002&noLivingRoomFloors=nsi:1071:9001003&noLivingRoomFloors=nsi:1071:9001004&noLivingRoomFloors=nsi:1071:9001005&noLivingRoomFloors=nsi:1071:9001006&noLivingRoomFloors=nsi:1071:9001007&noLivingRoomFloors=nsi:1071:9001008&noLivingRoomFloors=nsi:1071:9001009&noLivingRoomFloors=nsi:1071:9001010&noLivingRoomFloors=nsi:1071:9001011&noLivingRoomFloors=nsi:1071:9001012&noLivingRoomFloors=nsi:1071:9001013&noLivingRoomFloors=nsi:1071:9001014&noLivingRoomFloors=nsi:1071:9001015&noLivingRoomFloors=nsi:1071:9001016&noLivingRoomFloors=nsi:1071:9001017&noLivingRoomFloors=nsi:1071:9001018&noLivingRoomFloors=nsi:1071:9001019&noLivingRoomFloors=nsi:1071:9001020&noLivingRoomFloors=nsi:1071:9001021&noLivingRoomFloors=nsi:1071:9001022&noLivingRoomFloors=nsi:1071:9001023&noLivingRoomFloors=nsi:1071:9001024&noLivingRoomFloors=nsi:1071:9001025&noLivingRoomFloors=nsi:1071:9001026&noLivingRoomFloors=nsi:1071:9001027&noLivingRoomFloors=nsi:1071:9001028&noLivingRoomFloors=nsi:1071:9001029&noLivingRoomFloors=nsi:1071:9001030&noLivingRoomFloors=nsi:1071:9001031&noLivingRoomFloors=nsi:1071:9001032&noLivingRoomFloors=nsi:1071:9001033&noLivingRoomFloors=nsi:1071:9001035&noLivingRoomFloors=nsi:1071:9001038&noLivingRoomFloors=nsi:1071:9001041&noLivingRoomFloors=nsi:1071:9001079'
    params = parse_url(url)

    parser = Parser()
    tenders = parser.run(params)

    for tender in tenders:
        print(tender)
